apply plugin: 'python'

python {
    installRequirement {
        args '-r', file('requirement.txt')
    }
}

task build(type: app.py, dependsOn: installRequirements) {
    args '--source-dir', file(''), '--output-dir', file('build')
}

task clean(type: Delete) {
    delete file('build')
}

task dist(type: Tar) {
    from file('build')
    archiveName 'application.tar'
}

build.dependsOn dist
